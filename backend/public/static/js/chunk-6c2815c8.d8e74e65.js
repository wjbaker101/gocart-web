(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c2815c8"],{"0a5b":function(t,e,n){"use strict";var s=n("2912"),r=n.n(s);r.a},2770:function(t,e,n){"use strict";var s=n("fbf4"),r=n.n(s);r.a},2912:function(t,e,n){},"29a8":function(t,e,n){"use strict";var s=n("8581"),r=n.n(s);r.a},"7ee6":function(t,e,n){},8581:function(t,e,n){},a4e5:function(t,e,n){"use strict";var s=n("7ee6"),r=n.n(s);r.a},ae54:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"product-item-component",attrs:{"data-product-id":t.product.tpnc},on:{click:function(e){return e.target!==e.currentTarget?null:t.onClick(e)}}},[t.hasCheckBox?n("div",{staticClass:"is-checked-container"},[n("CheckBoxComponent",{attrs:{id:t.product.tpnc+"-checkbox"},model:{value:t.product.isChecked,callback:function(e){t.$set(t.product,"isChecked",e)},expression:"product.isChecked"}})],1):t._e(),n("div",{staticClass:"image-container"},[t.showPlaceholderImage?n("div",{staticClass:"placeholder-image-container"},[n("FoodIcon")],1):n("img",{staticClass:"product-image",attrs:{src:t.product.image}})]),n("div",{staticClass:"product-name"},[n("span",[t._v(t._s(t.product.name))])]),n("div",{staticClass:"product-price"},[n("span",[t._v("£"+t._s(t.product.price.toFixed(2)))]),t.product.quantity>1?n("div",{staticClass:"quantity-container"},[n("strong",[t._v("×"+t._s(t.product.quantity))])]):t._e()])])},r=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"checkbox-component"},[n("input",{ref:"checkboxInput",attrs:{id:t.id,type:"checkbox"},domProps:{checked:t.value},on:{change:t.update}}),n("label",{staticClass:"checkbox-label",attrs:{for:t.id}},[t._v(t._s(t.label))]),n("span",{staticClass:"check"})])},c=[],i={name:"CheckBoxComponent",props:["id","label","value"],methods:{update:function(t){this.$emit("input",t.target.checked)}}},o=i,u=(n("2770"),n("2877")),l=Object(u["a"])(o,a,c,!1,null,null,null),d=l.exports,h={functional:!0,render(t,e){const{_c:n,_v:s,data:r,children:a=[]}=e,{class:c,staticClass:i,style:o,staticStyle:u,attrs:l={},...d}=r;return n("svg",{class:["icon",c,i],style:[o,u],attrs:Object.assign({"aria-hidden":"true",class:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 416 512"},l),...d},a.concat([n("path",{attrs:{fill:"currentColor",d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"}})]))}},p={name:"ProductItemComponent",props:["product","hasCheckBox"],components:{CheckBoxComponent:d,FoodIcon:h},computed:{showPlaceholderImage:function(){return null===this.product.image||""===this.product.image}},methods:{onClick:function(){this.$router.push({name:"product-route",params:{product:this.product}})}}},m=p,f=(n("29a8"),Object(u["a"])(m,s,r,!1,null,null,null));e["a"]=f.exports},d784:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("input",{ref:"inputElement",staticClass:"input-component",attrs:{type:t.inputType,placeholder:t.placeholder},domProps:{value:t.value},on:{input:t.onInputChange,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter(e)}}})},r=[],a={name:"InputComponent",props:["value","isPassword","placeholder"],computed:{inputType:function(){return this.isPassword?"password":"text"}},methods:{onInputChange:function(){this.$emit("input",this.$refs.inputElement.value)},onEnter:function(){this.$emit("enter",this.$refs.inputElement.value)}}},c=a,i=(n("a4e5"),n("2877")),o=Object(i["a"])(c,s,r,!1,null,null,null);e["a"]=o.exports},f9b5:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"product-search-view"},[n("HeaderComponent",{scopedSlots:t._u([{key:"below",fn:function(){return[n("div",{staticClass:"search-input-container"},[n("InputComponent",{attrs:{placeholder:"Apple Pie"},on:{enter:t.onSearch},model:{value:t.searchTerm,callback:function(e){t.searchTerm=e},expression:"searchTerm"}})],1)]},proxy:!0},{key:"right-side",fn:function(){return[n("div",{staticClass:"sort-container",on:{click:function(e){t.isSortOptionsVisible=!t.isSortOptionsVisible}}},[t._v("\n                Sort Results\n                "),n("SortIcon"),n("div",{staticClass:"sort-options-container",class:{"is-visible":t.isSortOptionsVisible}},[n("ul",[n("li",[t._v("Alphabetical")]),n("li",[t._v("Price")]),n("li",[t._v("Health")])])])],1)]},proxy:!0}])}),n("div",{staticClass:"search-container"},[n("p",{directives:[{name:"show",rawName:"v-show",value:!t.isLoaded&&!t.isLoading,expression:"!isLoaded && !isLoading"}],staticClass:"text-centered"},[t._v("No results yet!")]),n("p",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"text-centered"},[t._v("Searching...")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoaded&&null!==t.searchResult,expression:"isLoaded && searchResult !== null"}],staticClass:"search-results"},t._l(t.searchResult,(function(e,s){return n("ProductItemComponent",{key:s,style:"animation-duration: "+t.loadAnimationDuration(s)+"s",attrs:{product:e,hasCheckBox:"true"},on:{expandProduct:t.onExpandProduct}})})),1)])],1)},r=[],a=n("cebc"),c=(n("96cf"),n("3b8d")),i=n("19e3"),o=n("6073"),u=n("d784"),l=n("ae54"),d={functional:!0,render(t,e){const{_c:n,_v:s,data:r,children:a=[]}=e,{class:c,staticClass:i,style:o,staticStyle:u,attrs:l={},...d}=r;return n("svg",{class:["icon",c,i],style:[o,u],attrs:Object.assign({"aria-hidden":"true",class:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},l),...d},a.concat([n("path",{attrs:{fill:"currentColor",d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"}})]))}},h=n("d225"),p=n("b0b4"),m=n("40e7"),f=function(){function t(){Object(h["a"])(this,t),this.productsKey="search-result"}return Object(p["a"])(t,[{key:"saveSearchResult",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].storeData(this.productsKey,e);case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getSearchResult",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].getData(this.productsKey);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),v=(new f,{name:"ProductSearchView",components:{HeaderComponent:o["a"],InputComponent:u["a"],ProductItemComponent:l["a"],SortIcon:d},data:function(){return{searchTerm:"",isLoaded:!1,isLoading:!1,searchResult:null,isSortOptionsVisible:!1}},computed:{loadAnimationDuration:function(){return function(t){return t>20?3:.15*(t+1)}}},methods:{onSearch:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==this.searchTerm.length){t.next=2;break}return t.abrupt("return");case 2:return this.isLoaded=!1,this.isLoading=!0,t.next=6,i["a"].searchProduct(this.searchTerm);case 6:e=t.sent,this.searchResult=e.data.result.map((function(t){return Object(a["a"])({},t,{quantity:1,isChecked:!1})})),console.log(this.searchResult),this.$root.$data.setSearchResult({searchTerm:this.searchTerm,searchResult:this.searchResult}),this.isLoaded=!0,this.isLoading=!1;case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onExpandProduct:function(t){this.$emit("expandProduct",t)},getCachedSearchResult:function(){if(null===this.searchResult){var t=this.$root.$data.getSearchResult();null!==t&&(this.searchResult=t.searchResult,this.searchTerm=t.searchTerm,this.isLoaded=!0,this.isLoading=!1)}}},created:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$emit("viewChange","product_search"),this.getCachedSearchResult();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}),C=v,g=(n("0a5b"),n("2877")),w=Object(g["a"])(C,s,r,!1,null,null,null);e["default"]=w.exports},fbf4:function(t,e,n){}}]);
//# sourceMappingURL=chunk-6c2815c8.d8e74e65.js.map