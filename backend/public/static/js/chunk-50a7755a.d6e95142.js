(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50a7755a"],{"176a":function(e,t,n){"use strict";var s=n("690e"),a=n.n(s);a.a},"24eb":function(e,t,n){"use strict";var s=n("5b1d"),a=n.n(s);a.a},"46ff":function(e,t,n){"use strict";var s=n("7d29"),a=n.n(s);a.a},"5b1d":function(e,t,n){},"690e":function(e,t,n){},"7d29":function(e,t,n){},"953d":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"shop-search-view"},[n("HeaderComponent",{scopedSlots:e._u([{key:"below",fn:function(){return[n("div",{staticClass:"search-input-container"},[n("InputComponent",{attrs:{placeholder:"London"},on:{enter:e.onSearch},model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}})],1)]},proxy:!0}])}),n("div",{staticClass:"search-container"},[n("p",{directives:[{name:"show",rawName:"v-show",value:!e.isLoaded&&!e.isLoading,expression:"!isLoaded && !isLoading"}],staticClass:"text-centered"},[e._v("No results yet!")]),n("p",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"text-centered"},[e._v("Searching...")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoaded&&null!==e.searchResult,expression:"isLoaded && searchResult !== null"}],staticClass:"search-results"},e._l(e.searchResult,function(t,s){return n("ShopItemComponent",{key:s,style:"animation-duration: "+e.loadAnimationDuration(s)+"s",attrs:{shop:t,isExpanded:t.isExpanded},nativeOn:{click:function(n){return e.expandShop(t)}}})}),1)])],1)},a=[],o=n("cebc"),i=(n("96cf"),n("3b8d")),r=n("19e3"),c=n("6073"),u=n("d784"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"shop-item-component",class:{"is-expanded":e.isExpanded}},[n("div",{staticClass:"shop-container"},[n("ShopIcon"),n("span",{staticClass:"shop-name"},[e._v(e._s(e.shop.location.name))])],1),n("div",{staticClass:"expanded-container"},[n("div",{staticClass:"expanded-content"},[n("span",{staticClass:"shop-distance"},[e._v(e._s(e.distance))])]),n("ButtonComponent",{staticClass:"select-shop-button",on:{click:function(t){return t.stopPropagation(),e.onSelectClick(t)}}},[e._v("Select")])],1)])},p=[],l=n("5fdd"),h=n("bca4"),m={name:"ShopItemComponent",props:["shop","isExpanded"],components:{ShopIcon:l["a"],ButtonComponent:h["a"]},computed:{distance:function(){var e=this.shop.distanceFrom;return"".concat(e.value.toFixed(1)," ").concat(e.unit," away")}},methods:{onSelectClick:function(){this.$root.$data.setSelectedShop(this.shop),this.$router.push({path:"/shop"})}}},f=m,v=(n("176a"),n("2877")),x=Object(v["a"])(f,d,p,!1,null,null,null),C=x.exports,w={name:"ShopSearchView",components:{HeaderComponent:c["a"],InputComponent:u["a"],ShopItemComponent:C},data:function(){return{searchTerm:"",isLoaded:!1,isLoading:!1,searchResult:null,isSortOptionsVisible:!1,expandedShop:null}},computed:{loadAnimationDuration:function(){return function(e){return e>20?3:.15*(e+1)}}},methods:{onSearch:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(0!==this.searchTerm.length){e.next=2;break}return e.abrupt("return");case 2:return this.isLoaded=!1,this.isLoading=!0,e.next=6,r["a"].searchShops(this.searchTerm);case 6:t=e.sent,console.log(t),this.searchResult=t.data.result.map(function(e){return Object(o["a"])({},e,{isExpanded:!1})}),this.isLoaded=!0,this.isLoading=!1;case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),expandShop:function(e){var t=e.isExpanded;null!==this.expandedShop&&(this.expandedShop.isExpanded=!1),e.isExpanded=!t,this.expandedShop=e}},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$emit("viewChange","shop_search");case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},S=w,b=(n("24eb"),Object(v["a"])(S,s,a,!1,null,null,null));t["default"]=b.exports},bca4:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"button-component",class:e.elementClass,on:{click:function(t){return e.$emit("click",t)}}},[e._t("default")],2)},a=[],o={name:"ButtonComponent",props:["isSecondary"],computed:{elementClass:function(){return{"is-secondary":this.isSecondary}}}},i=o,r=(n("46ff"),n("2877")),c=Object(r["a"])(i,s,a,!1,null,null,null);t["a"]=c.exports}}]);
//# sourceMappingURL=chunk-50a7755a.d6e95142.js.map